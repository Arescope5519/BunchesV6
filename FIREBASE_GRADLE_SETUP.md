# Firebase Gradle Configuration Guide

Your `/android` folder is gitignored (generated by Expo), so I can't directly modify it. Here's what you need to verify and update on your Windows machine.

## Files to Check

### 1. Project-level build.gradle
**Location:** `Y:\PycharmFiles\BunchesV6\android\build.gradle`

**What it should contain:**

```gradle
buildscript {
    ext {
        buildToolsVersion = "35.0.0"
        minSdkVersion = 24
        compileSdkVersion = 36
        targetSdkVersion = 36
        ndkVersion = "27.0.12077973"
        kotlinVersion = "1.9.24"
    }
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath("com.android.tools.build:gradle")
        classpath("com.facebook.react:react-native-gradle-plugin")
        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin")

        // IMPORTANT: Add this line for Firebase
        classpath("com.google.gms:google-services:4.4.2")
    }
}

apply plugin: "com.facebook.react.rootproject"

allprojects {
    repositories {
        maven {
            url(new File(["node", "--print", "require.resolve('expo/package.json')"].execute(null, rootDir).text.trim(), "../android/maven"))
        }
        google()
        mavenCentral()
        maven { url 'https://www.jitpack.io' }
    }
}
```

**Key line to check:** Look for `classpath("com.google.gms:google-services:4.4.2")` in the dependencies block.

---

### 2. App-level build.gradle
**Location:** `Y:\PycharmFiles\BunchesV6\android\app\build.gradle`

**What to check at the TOP:**

```gradle
apply plugin: "com.android.application"
apply plugin: "org.jetbrains.kotlin.android"
apply plugin: "com.facebook.react"

// Add React Native Firebase plugin
react {
    /* ... existing config ... */
}
```

**What to check at the VERY BOTTOM (last line):**

```gradle
// IMPORTANT: This must be the LAST line in the file
apply plugin: 'com.google.gms.google-services'
```

**If that line doesn't exist, add it as the very last line of the file.**

---

### 3. google-services.json
**Location:** `Y:\PycharmFiles\BunchesV6\android\app\google-services.json`

**Verify this file exists.** If it doesn't, download it from Firebase Console:
1. Go to: https://console.firebase.google.com/project/bunches-1f884/settings/general
2. Scroll to "Your apps" â†’ Android app (com.bunchesai.v6)
3. Click "Download google-services.json"
4. Place it in `Y:\PycharmFiles\BunchesV6\android\app\`

---

## What to Do

### Option 1: Manual Check (Recommended)
1. Open `Y:\PycharmFiles\BunchesV6\android\build.gradle`
2. Check if line `classpath("com.google.gms:google-services:4.4.2")` exists in buildscript dependencies
3. If missing, add it

4. Open `Y:\PycharmFiles\BunchesV6\android\app\build.gradle`
5. Scroll to the very bottom
6. Check if last line is `apply plugin: 'com.google.gms.google-services'`
7. If missing, add it as the last line

8. Save both files

### Option 2: Quick Test
Just check if the last line of `android/app/build.gradle` says:
```gradle
apply plugin: 'com.google.gms.google-services'
```

If not, add it and save.

---

## After Making Changes

```powershell
cd Y:\PycharmFiles\BunchesV6\android
.\gradlew clean
.\gradlew assembleRelease
```

---

## Common Issues

### Issue: "google-services.json not found"
**Solution:** Download from Firebase Console and place in `android/app/`

### Issue: "Could not find com.google.gms:google-services"
**Solution:** Add the classpath line in project-level build.gradle

### Issue: "No Firebase App [DEFAULT] has been created"
**Solution:** Make sure `apply plugin: 'com.google.gms.google-services'` is the LAST line in app/build.gradle

---

## SHA-1 Certificate (Still Required)

Don't forget to add your SHA-1 to Firebase Console:
1. Go to: https://console.firebase.google.com/project/bunches-1f884/settings/general
2. Click "Add fingerprint"
3. Add: `5E:8F:16:06:2E:A3:CD:2C:4A:0D:54:78:76:BA:A6:F3:8C:AB:F6:25`
4. Download updated google-services.json
5. Replace the one in android/app/
